# (APPENDIX) Ap√©ndice {-}

# Desaf√≠os de pr√°ctica

En esta secci√≥n te proponemos desaf√≠os y ejercicios para pr√°cticar o revisar lo que vimos en los distintos cap√≠tulos. Cada una de las subsecci√≥n estar√° asociada a un conjunto de cap√≠tulos y buscan relacionar los distintos temas y herramientas. 

## Desaf√≠o 1 {-}

**Cap√≠tulos asociados:** Instalaci√≥n de R y Rstudio, Uso de proyectos, Reportes con RMarkdown y lectura de datos. 

1. Segu√≠ las instrucciones que encontrar√°s en el [Ap√©ndice B](instalando-r-y-rstudio.html) para instalar R y Rstudio. 
Ten√© en cuenta que la instalaci√≥n en computadoras con Windows requieren algunos pasos extra. 

2. Abr√≠ RStudio y cre√° tu primer proyecto. 
Este proyecto te acompa√±ar√° a lo largo de todos los desaf√≠os y ejercicios de este libro, por lo que va a necesitar un nombre f√°cil de recordar. 
Pod√©s revisar las instrucciones [ac√°](trabajar-con-proyectos-en-rstudio.html). 

3. Ahora es momento de instalar algunos paquetes para poder usar luego. 
Por ahora instalemos readr, remotes y datos. 

```{r eval=FALSE, include=TRUE}
install.packages("readr")
install.packages("remotes")
remotes::install_github("cienciadedatos/datos")
```

La tercera linea, si bien distinta a las anteriores, tambi√©n instala un paquete. 
La diferencia es que instala el paquete desde un repositorio de GitHub donde suelen estar los paquetes en desarrollo en vez de desde el repositorio oficial de R (CRAN).

4. Cre√° un nuevo archivo R Markdown que se llame "01-lectura.Rmd" desde File -> New File -> R Markdown.
Si bien el archivo puede tener cualquer nombre, siempre que sea informativo, te proponemos nombrarlos como n√∫mero-nombre para poder ordenarlos y que te resulte m√°s f√°cil encontrarlo dentro del proyecto.
Es posible que necesites darle permiso a RStudio para que instale nuevos paquetes asociados a R Markdown.
Te va a aparecer la plantilla por defecto; borr√° todas las l√≠neas empezando por la que dice `## R Markdown` (inclusive) y guard√° el archivo.
(Para guardar ten√©s pod√©s ir a File -> Save o hacer click en en el disquette üíæ).
 

5. Aprovechemos el archivo reci√©n creado para leer datos. 
Te proponemos que revises el cap√≠tulo de [lectura de datos](lectura-de-datos-ordenados.html) y sigas las instrucciones para leer los datos. 

6. ¬°Listo! En la pr√≥xima secci√≥n practicaremos con esos y otros datos.

## Desaf√≠o 2 {-}

**Cap√≠tulos asociados:** Manipulaci√≥n de datos con dplyr 

Arm√° un nuevo archivo de R Markdown, borr√° todas las l√≠neas empezando por la que dice `## R Markdown` (inclusive) y guard√° el archivo con alg√∫n nombre descriptivo. 

1. Cre√° un nuevo bloque de c√≥digo y peg√° estas l√≠neas de c√≥digo. 

```{r, eval = FALSE}
library(datos)
vuelos <- vuelos
```

Corr√© el bloque.
Va a cargar una tabla de ejemplo que vienen en el paquete datos. 

Escrib√≠ el c√≥digo que resuelve cada uno de los siguientes puntos en su propio bloque.

1. Fijate qu√© es cada columna de la tabla vuelos. Escrib√≠ `?vuelos` en la consola. 

2. Usando la funci√≥n `filter()`, encontr√° todos los vuelos que:  
    a. Tuvieron un retraso de llegada de dos o m√°s horas
    b. Volaron a Houston (IAH oHOU)
    c. Fueron operados por United, American o Delta
    d. Llegaron m√°s de dos horas tarde, pero no salieron tarde
    e. Partieron entre la medianoche y las 6 a.m. (incluyente)

3. Las variables `horario_salida` y `salida_programada` tienen un formato conveniente para leer, pero es dif√≠cil realizar cualquier c√°lculo con ellas porque no son realmente n√∫meros continuos. (Ayuda: para hacer la transformaci√≥n hay que hacer `(horario %/% 100 * 60 + horario %% 100) %% 1440`)

4. Calcul√° el tiempo de vuelo usando `horario_llegada - horario_salida`. ¬øEs igual a `tiempo_vuelo`? ¬øCu√°l es el problema?

5. Calcul√° el tiempo de vuelo promedio para cada aeropuerto de origen. 

6. Calcul√° el retraso medio para cada aerol√≠nea.

7. üî•üî•¬°Esta es la prueba de fuego! üî•üî•: Knite√° el documento haciendo click en el bot√≥n knitr. Si tu c√≥digo es reproducible, tiene que ejecutar todo sin errores y devolver un documento html con el resultado.


## Desaf√≠o 3 {-}

**Cap√≠tulos asociados:** Gr√°ficos con ggplot2

Usando el dataset diamantes del paquete datos intenten replicar los gr√°ficos que aparecen a continuaci√≥n:

* Gr√°fico 1: Cantidad de diamantes por corte y claridad

![Diamantes por corte](img/diamante-1-desafio-3.png)
* Gr√°fico 2: Proporci√≥n de diamantes por corte y claridad

![Proporci√≥n por corte](img/diamante-2-desafio-3.png)

* Gr√°fico 3: Cantidad de diamantes por corte y claridad

![Diamantes por corte](img/diamante-3-desafio-3.png)



* Grafico 4: Replicar el siguiente gr√°fico

Este gr√°fico presenta los quilates en relaci√≥n con el precio y la claridad.  En el gr√°fico se marca el valor 5.01 que corresponde al m√°ximo valor de quilates.

![Diamantes por corte](img/diamante-4-desafio-3.png)


**Desaf√≠o opcional**


* Sobre el gr√°fico 1:

  - Agregar t√≠tulo: Cantidad de diamantes por tipo y claridad

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t√≠tulos de los ejes x, y y la leyenda.  Nombres en espa√±ol y con la primera letra en may√∫sculas.

* Sobre el gr√°fico 2:

  - Agregar t√≠tulo: Diamantes por corte y claridad

  - Agregar subt√≠tulo: proporciones de la claridad en cada tipo de corte.

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t√≠tulos de los ejes x, y y la leyenda.  Nombres en espa√±ol significativos y con la primera letra en may√∫sculas.

* Sobre el gr√°fico 3:

  - Agregar t√≠tulo: Diamantes por corte y claridad

  - Agregar subt√≠tulo: cantidades de acuerdo a la claridad en cada tipo de corte.

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t√≠tulos de los ejes x, y y la leyenda.  Nombres en espa√±ol significativos y con la primera letra en may√∫sculas.

## Desaf√≠o 4 {-}

**Cap√≠tulos asociados:** Tablas, gr√°ficos e informes para publicar.

Llegaste al final del libro y con suerte al final de los desaf√≠os. Es hora de generar el informe final para presentar todo lo que estuviste haciendo en este tiempo.

1. Abr√≠ tu proyecto
Abr√≠ tu proyecto desde el explorador de archivos (haciendo doble click en el archivo .Rproj) o desde a interfaz de RStudio. 
Trabaj√° sobre el mismo Rmd, que ya va tomando forma.

2. Seleccion√° los gr√°ficos y/o tablas que quieran incluir en tu "informe final" y copia **todo** el c√≥digo necesario para generarlos. 
Esto incluye el codigo que leer y modifica los datos. 

3. Agreg√° t√≠tulos y mejor√° las etiquetas en tus gr√°ficos, si quer√©s, tambi√©n pod√©s cambiar el tema o alguna escala para que tenga una apariencia distinta (ten√©s todo [ac√°](gr√°ficos-con-ggplot2.html)).

Si generaste tablas, pod√©s mejorar su apariencia con alguna de las opciones de {kable} o {kableExtra} que vimos en el cap√≠tulode [tablas](tablas.html).

4. Decid√≠ en que formato vas a querer tu informe, html, word o pdf. ¬øNecesita un indice?

Adem√°s hace las modificaciones que consideres necesarias para que tenga la apariencia que mejor se adapte a tus objetivos, ¬øes necesario que se vea el c√≥digo? ¬ønecesit√°s los mensajes que devuelve R?. Pod√©s usar [est√© cap√≠tulo](informes-reproducibles.html) como gu√≠a.

Y finalmente‚Ä¶ knite√° el documento!
