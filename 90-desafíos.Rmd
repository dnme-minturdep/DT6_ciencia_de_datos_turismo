# (APPENDIX) Ap칠ndice {-}

# Desaf칤os de pr치ctica

En esta secci칩n te proponemos desaf칤os y ejercicios para pr치cticar o revisar lo que vimos en los distintos cap칤tulos. Cada una de las subsecci칩n estar치 asociada a un conjunto de cap칤tulos y buscan relacionar los distintos temas y herramientas. 

## Desaf칤o 1 {-}

**Cap칤tulos asociados:** Instalaci칩n de R y Rstudio, Uso de proyectos, Reportes con RMarkdown y lectura de datos. 

1. Segu칤 las instrucciones que encontrar치s en el [Ap칠ndice B](instalando-r-y-rstudio.html) para instalar R y Rstudio. 
Ten칠 en cuenta que la instalaci칩n en computadoras con Windows requieren algunos pasos extra. 

2. Abr칤 RStudio y cre치 tu primer proyecto. 
Este proyecto te acompa침ar치 a lo largo de todos los desaf칤os y ejercicios de este libro, por lo que va a necesitar un nombre f치cil de recordar. 
Pod칠s revisar las instrucciones [ac치](trabajar-con-proyectos-en-rstudio.html). 

3. Ahora es momento de instalar algunos paquetes para poder usar luego. 
Por ahora instalemos readr, remotes y datos. 

```{r eval=FALSE, include=TRUE}
install.packages("readr")
install.packages("remotes")
remotes::install_github("cienciadedatos/datos")
```

La tercera linea, si bien distinta a las anteriores, tambi칠n instala un paquete. 
La diferencia es que instala el paquete desde un repositorio de GitHub donde suelen estar los paquetes en desarrollo en vez de desde el repositorio oficial de R (CRAN).

4. Cre치 un nuevo archivo R Markdown que se llame "01-lectura.Rmd" desde File -> New File -> R Markdown.
Si bien el archivo puede tener cualquer nombre, siempre que sea informativo, te proponemos nombrarlos como n칰mero-nombre para poder ordenarlos y que te resulte m치s f치cil encontrarlo dentro del proyecto.
Es posible que necesites darle permiso a RStudio para que instale nuevos paquetes asociados a R Markdown.
Te va a aparecer la plantilla por defecto; borr치 todas las l칤neas empezando por la que dice `## R Markdown` (inclusive) y guard치 el archivo.
(Para guardar ten칠s pod칠s ir a File -> Save o hacer click en en el disquette 游).
 

5. Aprovechemos el archivo reci칠n creado para leer datos. 
Te proponemos que revises el cap칤tulo de [lectura de datos](lectura-de-datos-ordenados.html) y sigas las instrucciones para leer los datos. 

6. 춰Listo! En la pr칩xima secci칩n practicaremos con esos y otros datos.

## Desaf칤o 2 {-}

**Cap칤tulos asociados:** Manipulaci칩n de datos con dplyr y la primera parte de gr치ficos con ggplot2

Arm치 un nuevo archivo de R Markdown, borr치 todas las l칤neas empezando por la que dice `## R Markdown` (inclusive) y guard치 el archivo con alg칰n nombre descriptivo. 

1. Cre치 un nuevo bloque de c칩digo y peg치 estas l칤neas de c칩digo. 

```{r, eval = FALSE}
library(datos)
vuelos <- vuelos
```

Corr칠 el bloque.
Va a cargar una tabla de ejemplo que vienen en el paquete datos. 

Escrib칤 el c칩digo que resuelve cada uno de los siguientes puntos en su propio bloque.

1. Fijate qu칠 es cada columna de la tabla vuelos. Escrib칤 `?vuelos` en la consola. 

2. Usando la funci칩n `filter()`, encontr치 todos los vuelos que:  
    a. Tuvieron un retraso de llegada de dos o m치s horas
    b. Volaron a Houston (IAH oHOU)
    c. Fueron operados por United, American o Delta
    d. Llegaron m치s de dos horas tarde, pero no salieron tarde
    e. Partieron entre la medianoche y las 6 a.m. (incluyente)

3. Las variables `horario_salida` y `salida_programada` tienen un formato conveniente para leer, pero es dif칤cil realizar cualquier c치lculo con ellas porque no son realmente n칰meros continuos. (Ayuda: para hacer la transformaci칩n hay que hacer `(horario %/% 100 * 60 + horario %% 100) %% 1440`)

4. Calcul치 el tiempo de vuelo usando `horario_llegada - horario_salida`. 쮼s igual a `tiempo_vuelo`? 쮺u치l es el problema?

5. Calcul치 el tiempo de vuelo promedio para cada aeropuerto de origen. 

6. Calcul치 el retraso medio para cada aerol칤nea.

7. 游댠游댠춰Esta es la prueba de fuego! 游댠游댠: Knite치 el documento haciendo click en el bot칩n knitr. Si tu c칩digo es reproducible, tiene que ejecutar todo sin errores y devolver un documento html con el resultado.


## Desaf칤o 3 {-}

Usando el dataset diamantes del paquete datos intenten replicar los gr치ficos que aparecen a continuaci칩n:

* Gr치fico 1: Cantidad de diamantes por corte y claridad

![Diamantes por corte](img/diamante-1-desafio-3.png)
* Gr치fico 2: Proporci칩n de diamantes por corte y claridad

![Proporci칩n por corte](img/diamante-2-desafio-3.png)

* Gr치fico 3: Cantidad de diamantes por corte y claridad

![Diamantes por corte](img/diamante-3-desafio-3.png)

* Sobre el gr치fico 1:

  - Agregar t칤tulo: Cantidad de diamantes por tipo y claridad

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t칤tulos de los ejes x, y y la leyenda.  Nombres en espa침ol y con la primera letra en may칰sculas.

* Sobre el gr치fico 2:

  - Agregar t칤tulo: Diamantes por corte y claridad

  - Agregar subt칤tulo: proporciones de la claridad en cada tipo de corte.

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t칤tulos de los ejes x, y y la leyenda.  Nombres en espa침ol significativos y con la primera letra en may칰sculas.

* Sobre el gr치fico 3:

  - Agregar t칤tulo: Diamantes por corte y claridad

  - Agregar subt칤tulo: cantidades de acuerdo a la claridad en cada tipo de corte.

  - Agregar como nota al pie: Fuente: conjunto de datos diamantes del paquete datos.

  - Cambiar los t칤tulos de los ejes x, y y la leyenda.  Nombres en espa침ol significativos y con la primera letra en may칰sculas.

* Replicar el siguiente gr치fico

Este gr치fico presenta los quilates en relaci칩n con el precio y la claridad.  En el gr치fico se marca el valor 5.01 que corresponde al m치ximo valor de quilates.

![Diamantes por corte](img/diamante-4-desafio-3.png)

## Desaf칤o 4 {-}

**Cap칤tulos asociados:** Tablas, gr치ficos e informes para publicar. 